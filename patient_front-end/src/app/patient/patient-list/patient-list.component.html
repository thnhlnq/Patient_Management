<div class="container-xxl py-5">
  <div class="container">
    <div class="text-center mx-auto mb-5 wow fadeInUp" data-wow-delay="0.1s" style="max-width: 600px;">
      <h1 class="pt-5">Patient List</h1>
    </div>
    <a class="col-5 mt-3" routerLink="/create">
      <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-person-plus text-success" viewBox="0 0 16 16">
        <path d="M6 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm4 8c0 1-1 1-1 1H1s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C9.516 10.68 8.289 10 6 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z"/>
        <path fill-rule="evenodd" d="M13.5 5a.5.5 0 0 1 .5.5V7h1.5a.5.5 0 0 1 0 1H14v1.5a.5.5 0 0 1-1 0V8h-1.5a.5.5 0 0 1 0-1H13V5.5a.5.5 0 0 1 .5-.5z"/>
      </svg>
    </a>
    <div>
      <table class="table table-striped table-hover mt-5">
        <tr>
          <th>No</th>
          <th>Patient Code</th>
          <th>Patienter Code</th>
          <th>Patienter Name</th>
          <th>Hospitalize</th>
          <th>Discharge</th>
          <th>Reason</th>
          <th>Treatments</th>
          <th>Doctor</th>
          <th></th>
          <th></th>
        </tr>
        <tr *ngFor="let item of patients; index as i">
          <td>{{i + 1}}</td>
          <td>{{item.patientId}}</td>
          <td>{{item.patienter.patienterId}}</td>
          <td>{{item.patienter.patienterName}}</td>
          <td>{{item.hospitalize | date: 'dd-MM-yyyy'}}</td>
          <td>{{item.discharge | date: 'dd-MM-yyyy'}}</td>
          <td>{{item.reason}}</td>
          <td>{{item.treatments}}</td>
          <td>{{item.doctor}}</td>
          <td>
            <a [routerLink]="['/edit', item.id]">Edit</a>
          </td>
          <td>
            <button style="border: none; background: none; color: red" data-bs-toggle="modal" data-bs-target="#staticBackdrop" (click)="openDelete(item.id, item.patientId)">Delete</button>
          </td>
        </tr>
      </table>
    </div>
  </div>

  <!-- Modal Delete -->
  <div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="staticBackdropLabel">Are You Sure ?</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
         Delete: <span style="color: red"> {{patientId}} </span> ?
        </div>
        <div class="modal-footer">
          <button type="button" style="background: none; border: none" data-bs-dismiss="modal">Cancel</button>
          <button type="button" style="border: none; background: none; color: red" data-bs-dismiss="modal" (click)="deletePatient(id)">Delete</button>
        </div>
      </div>
    </div>
  </div>
</div>
